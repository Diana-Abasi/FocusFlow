{"ast":null,"code":"import _objectSpread from\"C:/Users/diana/FocusFlow/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Timer(_ref){let{metrics,setMetrics,savedTasks,showPositiveReinforcement}=_ref;const[time,setTime]=useState(25*60);const[isRunning,setIsRunning]=useState(false);const[currentTask,setCurrentTask]=useState('');const[impromptuTime,setImpromptuTime]=useState(25);const handleTaskSelection=e=>{const task=savedTasks.find(task=>task.name===e.target.value);if(task){setCurrentTask(task.name);setTime(task.time*60);}};const handleImpromptuTimeChange=e=>{let minutes=parseInt(e.target.value,10);if(minutes>60)minutes=60;setImpromptuTime(minutes);setTime(minutes*60);setCurrentTask('Impromptu Task');};useEffect(()=>{if(isRunning){const interval=setInterval(()=>{setTime(prevTime=>{if(prevTime<=1){setMetrics(prevMetrics=>_objectSpread(_objectSpread({},prevMetrics),{},{completedTasks:prevMetrics.completedTasks+1,totalFocusTime:prevMetrics.totalFocusTime+impromptuTime*60}));showPositiveReinforcement();setIsRunning(false);return 0;}return prevTime-1;});},1000);return()=>clearInterval(interval);}},[isRunning,setMetrics,impromptuTime,showPositiveReinforcement]);return/*#__PURE__*/_jsxs(\"section\",{className:\"timer bg-gradient-to-br from-white to-gray-100 p-6 rounded-lg shadow-lg border border-gray-300 text-black w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4 text-center\",children:currentTask||'Focus Timer'}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-5xl font-mono mb-6 text-center \".concat(isRunning?'animate-pulse text-green-500':''),children:[Math.floor(time/60),\":\",String(time%60).padStart(2,'0')]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsRunning(!isRunning),className:\"py-2 px-6 rounded transform transition-all duration-200 \".concat(isRunning?'bg-gradient-to-r from-red-500 to-red-700 text-white shadow-lg active:shadow-inner':'bg-gradient-to-r from-green-500 to-green-700 text-white shadow-lg active:shadow-inner',\" font-bold\"),children:isRunning?'Pause':'Start'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTime(impromptuTime*60),className:\"py-2 px-6 rounded bg-gradient-to-r from-gray-500 to-gray-700 text-white font-bold shadow-lg active:shadow-inner\",children:\"Reset\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"select\",{onChange:handleTaskSelection,className:\"w-full p-2 border rounded text-black mb-4\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a Saved Task\"}),savedTasks.map((task,index)=>/*#__PURE__*/_jsxs(\"option\",{value:task.name,children:[task.name,\" - \",task.time,\" min\"]},index))]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"impromptu-time\",className:\"block text-sm font-bold mb-2\",children:\"Impromptu Task Timer (Minutes)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"impromptu-time\",type:\"number\",className:\"w-full p-2 border rounded text-black mb-4\",value:impromptuTime,onChange:handleImpromptuTimeChange,min:\"1\",max:\"60\"})]})]});}export default Timer;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Timer","_ref","metrics","setMetrics","savedTasks","showPositiveReinforcement","time","setTime","isRunning","setIsRunning","currentTask","setCurrentTask","impromptuTime","setImpromptuTime","handleTaskSelection","e","task","find","name","target","value","handleImpromptuTimeChange","minutes","parseInt","interval","setInterval","prevTime","prevMetrics","_objectSpread","completedTasks","totalFocusTime","clearInterval","className","children","concat","Math","floor","String","padStart","onClick","onChange","map","index","htmlFor","id","type","min","max"],"sources":["C:/Users/diana/FocusFlow/src/components/Timer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nfunction Timer({ metrics, setMetrics, savedTasks, showPositiveReinforcement }) {\n  const [time, setTime] = useState(25 * 60);\n  const [isRunning, setIsRunning] = useState(false);\n  const [currentTask, setCurrentTask] = useState('');\n  const [impromptuTime, setImpromptuTime] = useState(25);\n\n  const handleTaskSelection = (e) => {\n    const task = savedTasks.find((task) => task.name === e.target.value);\n    if (task) {\n      setCurrentTask(task.name);\n      setTime(task.time * 60);\n    }\n  };\n\n  const handleImpromptuTimeChange = (e) => {\n    let minutes = parseInt(e.target.value, 10);\n    if (minutes > 60) minutes = 60;\n    setImpromptuTime(minutes);\n    setTime(minutes * 60);\n    setCurrentTask('Impromptu Task');\n  };\n\n  useEffect(() => {\n    if (isRunning) {\n      const interval = setInterval(() => {\n        setTime((prevTime) => {\n          if (prevTime <= 1) {\n            setMetrics((prevMetrics) => ({\n              ...prevMetrics,\n              completedTasks: prevMetrics.completedTasks + 1,\n              totalFocusTime: prevMetrics.totalFocusTime + impromptuTime * 60,\n            }));\n            showPositiveReinforcement();\n            setIsRunning(false);\n            return 0;\n          }\n          return prevTime - 1;\n        });\n      }, 1000);\n      return () => clearInterval(interval);\n    }\n  }, [isRunning, setMetrics, impromptuTime, showPositiveReinforcement]);\n\n  return (\n    <section className=\"timer bg-gradient-to-br from-white to-gray-100 p-6 rounded-lg shadow-lg border border-gray-300 text-black w-full max-w-md\">\n      <h2 className=\"text-2xl font-bold mb-4 text-center\">{currentTask || 'Focus Timer'}</h2>\n      <div className={`text-5xl font-mono mb-6 text-center ${isRunning ? 'animate-pulse text-green-500' : ''}`}>\n        {Math.floor(time / 60)}:{String(time % 60).padStart(2, '0')}\n      </div>\n      <div className=\"flex justify-center space-x-4\">\n        <button\n          onClick={() => setIsRunning(!isRunning)}\n          className={`py-2 px-6 rounded transform transition-all duration-200 ${\n            isRunning\n              ? 'bg-gradient-to-r from-red-500 to-red-700 text-white shadow-lg active:shadow-inner'\n              : 'bg-gradient-to-r from-green-500 to-green-700 text-white shadow-lg active:shadow-inner'\n          } font-bold`}\n        >\n          {isRunning ? 'Pause' : 'Start'}\n        </button>\n        <button\n          onClick={() => setTime(impromptuTime * 60)}\n          className=\"py-2 px-6 rounded bg-gradient-to-r from-gray-500 to-gray-700 text-white font-bold shadow-lg active:shadow-inner\"\n        >\n          Reset\n        </button>\n      </div>\n      <div className=\"mt-4\">\n        <select\n          onChange={handleTaskSelection}\n          className=\"w-full p-2 border rounded text-black mb-4\"\n        >\n          <option value=\"\">Select a Saved Task</option>\n          {savedTasks.map((task, index) => (\n            <option key={index} value={task.name}>\n              {task.name} - {task.time} min\n            </option>\n          ))}\n        </select>\n        <label htmlFor=\"impromptu-time\" className=\"block text-sm font-bold mb-2\">\n          Impromptu Task Timer (Minutes)\n        </label>\n        <input\n          id=\"impromptu-time\"\n          type=\"number\"\n          className=\"w-full p-2 border rounded text-black mb-4\"\n          value={impromptuTime}\n          onChange={handleImpromptuTimeChange}\n          min=\"1\"\n          max=\"60\"\n        />\n      </div>\n    </section>\n  );\n}\n\nexport default Timer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}